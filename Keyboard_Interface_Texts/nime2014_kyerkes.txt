Twkyr: a Multitouch Waveform Looper
Karl Y erkes
Media Arts and Technology
University of California Santa Barbara
yerkes@mat.ucsb.edu
Matthew Wright
CREATE & Media Arts and Technology
University of California Santa Barbara
matt@create.ucsb.edu
ABSTRACT
Twkyr is a new interface for musical expression that empha-
sizes realtime manipulation, audiﬁcation, and visualization
of waveforms with a multitouch display, oﬀering diﬀerent
interactivity at diﬀerent time scales, within the same wave-
form. The interactive audiovisual design of Twkyr is moti-
vated by the need for increased parsimony and transparency
in electronic musical instruments and draws from the the
work of Curtis Roads on time scales as qualitative musical
parameters and Edward Tufte’s“data-ink”principles for the
improvement of data graphics.
Keywords
ensemble, iOS, waveform, granulator
1. INTRODUCTION
Twkyr (shown in Figures 1 and 2) is a multitouch waveform-
looping instrument. It presents the user little more than a
waveform that can be scrolled, zoomed, and looped. With
a sequence of simple gestures, the user may quickly adjust
the time-scale of the display (zoom) and select sections of
the waveform to play (loop). Although the metaphor that
Twkyr presents is straightforward and consistent, the per-
ceptual qualitative results vary greatly as a function of the
time-scale of loop and often also depend on the nature of
the sound material.
Twkyr’s interactive audiovisual design is informed by the
work of Curtis Roads on the perceptual qualitative dif-
ferences between musical time scales and Edward Tufte’s
“data-ink” principles for the improvement of data graphics.
“As sound passes from one time scale to another it crosses
perceptual boundaries. It seems to change quality. This is
because human perception processes each time scale diﬀer-
ently. Consider a simple sinusoid transposed to various time
scales (1µsec, 1 ms, 1 sec, 1 minute, 1 hour). The waveform
is identical, but one would have diﬃculty classifying these
auditory experiences in the same family” (Curtis Roads [3,
p. 4]). Twkyr operates in four of Roads’ nine time scales:
“Meso: Divisions of form. Groupings of sound objects into
hierarchies of phrase structures of various sizes, measured
in minutes or seconds. Sound object: A basic unit of mu-
sical structure, generalizing the traditional concept of note
to include complex and mutating sound events on a time
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
NIME’14,June 30 – July 03, 2014, Goldsmiths, University of London, UK.
Copyright remains with the author(s).
scale ranging from a fraction of a second to several seconds.
Micro: Sound particles on a time scale that extends down
to the threshold of auditory perception (measured in thou-
sandths of a second or milliseconds). Sample: The atomic
level of digital audio systems: individual binary samples or
numerical amplitude values, one following another at a ﬁxed
time interval. The period between samples is measured in
millionths of a second (microseconds).”
Tufte’s notion of a data graphic’s “data-ink” is the “non-
redundant ink arranged in response to variation in the num-
bers represented” [5, p. 93]. “Five principles in the theory
of data graphics produce substantial changes in graphical
design: (1) Above all else show the data (2) Maximize the
data-ink ratio (3) Erase non-data-ink (4) Erase redundant
data-ink (5) Revise and edit” [5, p. 105].
Twkyr is designed to devote all of the “ink” of the graph-
ical display to representing the relevant numbers. In addi-
tion to the waveform, tracked touch positions, loop points,
and playback cursor, Twkyr draws “frets” that help the user
play speciﬁc pitches at the Micro/Sound-Object time scales
and play rhythms at the Sound-Object/Meso time scales.
Although the rules of waveform display and interaction are
the same at all time scales, Twkyr subtly alters the visu-
alizations (see Section 2.1.5) and/or the signal processing
(see Section 2.4) according to the current time scales of
both zoom level and loop size.
2. TWKYR
Audio editor Cool Edit Pro (of the late 90s) aﬀorded zoom-
ing, scrolling, and looping of waveforms. With practice,
one could use it as a sampler-like instrument to produce
tones, rhythmic loops, phrases, or backing loops depending
on timescale. The interface was clearly not meant for this;
its modal, WIMP paradigm required careful timing and in-
terplay between keyboard and mouse to accomplish these
musical maneuvers. What if this interface were reimagined
as a multitouch, modeless interface for performance? How
high a ceiling and how low a ﬂoor could we get from just
1-ﬁnger zooming and scrolling and 2-ﬁnger looping? These
are the questions that Twkyr poses.
2.1 User Interface & Interaction Behavior
See https://vimeo.com/twkyr/demo for videos of Twkyr.
2.1.1 No Interaction / Start Up
On start up and when there is no interaction, Twkyr presents
three user interface elements: a fullscreen line-drawn wave-
form, the name of the sound ﬁle in the upper left-hand
corner, and a thin grey box outlining the touchable area of
the display. These elements are present at all times.
2.1.2 One-ﬁnger Interaction: Navigation
Proceedings of the International Conference on New Interfaces for Musical Expression
375
Figure 1: One-ﬁnger interaction: pan and zoom.
All four images use the same underlying waveform;
the superimposed translucent hand illustrates in-
teraction and is not part of Twkyr’s graphical out-
put. The horizontal axis shows scrolling: the user
touch moves horizontally and the waveform follows
the touch. The vertical axis shows zoom: the user’s
ﬁnger moves vertically to change the time-scale of
the display. In this ﬁgure motions are small rela-
tive to Twkyr’s range, for visual clarity comparing
waveforms.
Touching the display with a single ﬁnger causes Twkyr to
draw a small circle at the ﬁnger position and a vertical line
through that position. Moving this ﬁnger about the display
navigates the waveform as shown in Figure 1. Horizontal
movement scrolls by “dragging” the waveform left or right,
as one might drag a piece of paper across a desk. When the
ﬁnger ﬁrst touches the surface, the timepoint at the hori-
zontal position of the touch “locks” to the ﬁnger position: as
long as the ﬁnger is held down, motion in the X (time) axis
causes the waveform to scroll so that the originally-touched
point always stays beneath the ﬁnger. The entire waveform
is treated as a large loop (such that the ﬁrst sample comes
again immediately after the last sample), so this scrolling
can never go beyond the ends of the waveform.
The ﬁnger’s vertical movement zooms into and out of the
waveform, with the zoom again centered around the wave-
form time point that is “locked” to the ﬁnger position, as
with scroll. This mapping was inspired by Cool Edit Pro’s
use of the mouse scroll wheel, an otherwise free continuous
controller (typically used in text document applications and
web browsers to move up and down in a page), for facile,
precise control of zoom over a wide range.
Three quick single-ﬁnger taps cause Twkyr to advance
through a circular list of sound ﬁles.
2.1.3 Two-ﬁnger Interaction: Making Sound
Figure 2: Two-ﬁnger interaction: loop selection.
Touching the display with 2 ﬁngers “selects” the wave-
form region horizontally between them and plays it as a
loop (Figure 2). At the moment of the second touch, play-
back begins from the position of the ﬁrst touch towards the
second (so that playback will be reversed when the ﬁrst
touch is to the right of the second). Releasing either ﬁn-
ger immediately ends playback. The same small circle and
vertical line visually represents both ﬁnger positions. The
selection is ﬁlled in with light grey and the current “play-
back head” position is represented by a vertical line moving
between the 2 ﬁngers. Navigation is disabled.
Loop selection thus depends only on the X position of
each ﬁnger, not Y. In the same spirit of non-wastefulness
behind Tufte’s “data-ink” principle, we map these free valu-
ators to perhaps the most musically useful parameters: am-
plitude and frequency. The order in which the two ﬁngers
contact the surface determines the mapping of vertical po-
sition. The ﬁrst ﬁnger down (“primary”) controls amplitude
via a logarithmic mapping: top is 6 dB, bottom is −48 dB.
The second ﬁnger down (“secondary”) controls the playback
rate of the sound (±1 octave).
2.1.4 Three-ﬁnger Interaction
While looping with two ﬁngers, a third ﬁnger touch (which
Twkyr visually represents by just a small circle) navigates
much like a single ﬁnger does. We chose this symmetry
to reduce the cognitive overhead on end-users, making the
third mode understandable in terms of the other two.
However, musical demands lead us to introduce one small
inconsistency: instead of zooming about the third ﬁnger,
zooming is centered on the middle of the loop. This allows
for more gradual changes in loop selection, particularly in
the case where the third ﬁnger is outside the current loop.
2.1.5 “Frets”
Figure 3: Screenshot of Twkyr with “frets” indicat-
ing an A minor pentatonic scale.
In Micro time-scales, where the loop frequency generally
maps to perceived pitch, Twkyr overlays visual guides on
the waveform as shown in Figure 3. Each of these“frets”is a
curved contour line showing all positions for the secondary
ﬁnger that will produce the same loop frequency, given the
current position of the primary ﬁnger.
The curved shape of these “frets” comes from the fact
that the frequency of the loop is inversely proportional to
the length of the loop on the horizontal axis, but varies
exponentially according to the±1 octave pitch control on
the vertical axis, as shown in Equation 1.
Proceedings of the International Conference on New Interfaces for Musical Expression
376
Table 1: Visual Feedback at Various Time Scales of Zoom
Time Scale Frequency (Hz) Samples Per Pixel Twkyr’s Behavior
90.703us–2.9025ms 11025–344.53 0.00391–0.125 Show pitch frets. Show samples. Spline curve.
2.9025ms–23.220ms 344.53–43.066 0.125–1 Show pitch frets. Lines.
23.220ms– 43.066– 1– Min/Max Overviews.
2.2 Gestures
Although the rules governing interaction are simple, they
aﬀord a variety of performance techniques in terms of the
way musicians can control them over time both discretely
and continuously, including one- and two-hand usage. The
following Twkyr “idioms” were discovered by the developers
and taught to the participants in our user study and in
ensemble performances (see Section 2.5). The ﬁrst step for
every Twkyr gesture is framing: the user must ﬁrst zoom
to an appropriate time-scale and/or scroll to an area with
useful sound material.
2.2.1 Fade in a sound
Place a single ﬁnger on the display, near the bottom. Place a
second ﬁnger somewhere else on the display. Slowly slide the
ﬁrst ﬁnger up, or move it rapidly up and down for tremelo.
2.2.2 Play in reverse
Place a single ﬁnger on the display, then place a second
ﬁnger to the left of the ﬁrst ﬁnger.
2.2.3 Play a percussive event
Place a single ﬁnger on the display, then tap the display
with a second ﬁnger and release quickly (before the sound
can loop). To produce a decaying envelope, ﬁnd an area of
the waveform with those dynamics.
2.2.4 Play with vibrato
Use a single ﬁnger to zoom to a pitch regime time scale
(see Table 1); curved “frets” appear. Place a second ﬁnger
on the display, following the curves to stay “in tune” if de-
sired. Wiggle the secondary ﬁnger on the surface without
removing it to produce vibrato.
2.2.5 Play in “Bagpipe” mode
In a Micro time-scale make a very small (1–10 pixels) se-
lection with 2 ﬁngers. Vary the selection size in this range.
As with bagpipes, the amplitude will remain fairly constant,
with articulation provided only by discrete pitch jumps (among
a subharmonic series, as described in Section 2.3.3).
2.2.6 “Scrub” through a sound
In a Meso time scale, make a small selection. Move both
ﬁngers horizontally across the display. The sound continu-
ously looping between the moving endpoints will produce a
sort of granular scrubbing eﬀect following the ﬁngers. Al-
ternatively, hold the selection stationary while using a third
ﬁnger to scroll the waveform under the selection.
2.2.7 Play a “Hard sync”-like Effect
Find a place in the waveform with pitched material. Zoom
into a Micro time scale and make a selection.
2.3 Limitations & Affordances of the iPad
We choose to use the iPad for Twkyr because of its ubiq-
uity and because it oﬀers an integrated display and multi-
touch interaction that may provide the user the impression
of “touching the waveform.”
The iPad 1, iPad 2, and iPad Retina Display are all ap-
proximately 240 ×190 mm in physical size, near the maxi-
mum span of ﬁngers on most people’s hands. As Figures 1
and 3 show, Twkyr is designed to be used in landscape ori-
entation. We will refer to the horizontal and vertical axes
as x and y. The iPad 1 and 2 have 1024×768 pixel displays,
while the iPad Retina display has 2048 ×1536 pixels.
2.3.1 Touch Resolution and Unreachable Pixels
With a touchable display, generally the most useful rep-
resentation for touch position is with the units and coor-
dinate system of the visual pixels, so that developers can
relate touch positions to the graphics being shown. This is
what comes out of the Cocoa Touch frameworks that Apple
provides to iOS developers.
Our inconclusive tests using two iPad 1 devices suggest
that in general each display pixel is addressable with a sin-
gle ﬁnger, implying that the actual resolution of the touch
sensor is at least as good as the pixel resolution. The excep-
tion is near the edges, where there is a small, ragged margin
of 0–2 outermost pixels that are never returned as touch po-
sition. Also, because the front face of the device extends be-
yond the boundaries of the touchable display, ﬁngers might
be outside the area where touches are sensed. Therefore,
to prevent users from unintentionally stopping a loop when
their ﬁngers move too close to the edge, Twkyr renders a
thin line 8 pixels from the edge of the iPad, encouraging
users to play inside the box.
2.3.2 Sub-pixel Touch Accuracy?
Increased sensor accuracy is almost always a good thing for
NIMEs, helping aﬀord intimate musical control [6]. There
is a low-level struct (GSEvent.h) reachable from one of Ap-
ple’s“private frameworks”that may provide access to higher
resolution touch data. As future work we would like to ex-
periment with using higher resolution touch position.
The core of Twkyr’s interface metaphor is the idea of di-
rectly grabbing a selection of a displayed waveform. In this
context, the question of whether to quantize touch position
to the nearest visual pixel is equivalent to the question of
whether the user is selecting a region ofpixels that display
the waveform or selecting a more arbitrary region of time
in the underlying waveform that the pixels coarsely display.
2.3.3 Musical Effect of Touch Position Quantization
The current version of Twkyr accepts the quantization of
touch position to integer visual pixels, resulting in a very
speciﬁc perceptual result when the selection points are very
close: the subharmonic series. For example, suppose the
user has zoomed in so that the number of samples per pixel
spp= 2 and keeps the secondary ﬁnger at the vertical center
of the iPad (so that there is no transposition). A single-pixel
loop will create 22050 Hz, a two-pixel selection will produce
11025 Hz, a three-pixel selection will produce 7350 Hz, etc.
No matter the zoom level, the periods of the shortest pos-
sible loops will form the series spp, 2·spp, 3·spp, ···
In general, these frequencies are available to the user:
f(∆x, y) = 2(yMax/2−y)/yMax ·sr
∆x ·spp (1)
where ∆x is the horizontal distance (in pixels) between the
ﬁngers and y is the vertical position of the secondary ﬁnger,
yMax is the display height and sr is sample rate. For the
Proceedings of the International Conference on New Interfaces for Musical Expression
377
Table 2: Eﬀect of Loop Seam Discontinuity for Various Time Scales of Loop Length
Loop Length Frequency(Hz) Roads Time Scale [3] Eﬀect on Sound Twkyr’s Behavior
2 samples–23ms 11025–43 Micro–short Sound object Changes timbre Don’t “ﬁx” click.
23ms–92ms 43–11 Short sound object Increasingly distracting click gradual cross-fade
>92ms <11 Sound object–Meso Distracting click “Fix” / cross-fade.
iPad 1’s 1024×768 display, ∆x ∈(1, 1023) and y ∈(0, 767),
though in practice (Section 2.3.1) typically y ∈(3, 765).
This imposition of the subharmonic series has little ef-
fect for large-number-of-pixel loops because in these ranges
small changes in ﬁnger position smoothly map to small
changes in loop frequency, whereas small changes to small-
number-of-pixel selections tend to produce a very speciﬁc
musical character.
2.4 Time-Scale-Aware Behaviors
Twkyr presents a consistent interface while honoring qual-
itative perceptual diﬀerences among time scales. One ex-
ample is that the “frets” (Section 2.1.5) appear only at the
Micro time scale where they are perceptually meaningful.
Similarly, Twkyr’s loop seam “click” repair behavior de-
pends on time scale. Whenever the playback head crosses
the loop seam there is most likely a discontinuity in the au-
dio stream as the playhead jumps from the last sample in
the loop to the ﬁrst. The perceived musical eﬀect of such a
discontinuity depends on the length of the loop as well as
the nature of the underlying material. For instance, if the
loop length is in the Meso to longer Sound object time scale,
then a discontinuity will likely be perceived as a disruption
of musical meter and/or “click”, whereas if the loop length
is in the short Sound object to Micro time scale a disconti-
nuity may be perceived as a bright timbre (See Table 2).
Therefore Twkyr“ﬁxes”loop seam discontinuities for loops
with lengths longer than 23ms by cross-fading across the
loop seam. Starting at 23ms we gradually increase the cross-
fade time linearly from zero until it reaches 10ms when the
loop length is 92ms. For loops with length shorter than
23ms, we allow these discontinuities because they cause
“hard sync”-like eﬀects (Section 2.2.7) that can quickly and
dramatically aﬀect timbre.
2.5 User Evaluation
In an informal user study we taught 11 participants to use
Twkyr and asked for feedback and feature requests. We
then asked a group of experimental musicians to share their
experiences practicing and performing with Twkyr.
Some users complained that the interface does not use the
well-known iOS gestures such as pinch-zooming and ﬂicking.
However, after walking them through some Twkyr gestures
they quickly adapted to Twkyr’s diﬀerent semantics.
Along with praise (e.g., “It is very tempting and fun to go
crazy on this instrument!”, “It’s an instrument that oﬀers a
long term relationship”, “Very ﬂexible and responsive, with
the right samples it felt pretty expressive.”), several users
requested “obvious” features (live sampling, easy loading of
user waveforms, snap-to frets) already planned for develop-
ment, as well as features we hadn’t considered (“An option
to control a release parameter of the envelope of sound”,
“the option to work with multiple loop heads”, and “visual
feedback” on what other ensemble performers are playing).
One performer stated that “its main drawback of suck-
ing the user into staring at the screen makes it diﬃcult for
interaction [with other performers and the audience].”
Several participants spoke to the beneﬁts of learning de-
tails of particular waveforms so as to gain facility perform-
ing that speciﬁc waveform. “it would be diﬃcult to be an
all-purpose Twkyr performer—it’s much easier to learn a
particular waveform well.”
3. RELATED WORK / PRIOR ART
Samplr [1] oﬀers a Twykr-like 2-ﬁnger looping gesture.
However, it devotes half of its display area to buttons and
sliders, greatly reducing the gestural space for direct wave-
form interaction and lowering the “data-ink” ratio. Also,
Samplr does not oﬀer waveform zooming.
Curtis [4] is a granular synthesizer that oﬀers loop-based
scrubbing through waveforms. Curtis uses a single ﬁnger to
play loops, mapping vertical ﬁnger position to loop length
to and horizontal ﬁnger position to loop source material. It
does not oﬀer zooming and devotes half of its display area
to buttons and sliders leading to a low “data-ink” ratio.
Borderlands [2], a minimalist waveform granulator, de-
votes zero display area to buttons and sliders while embrac-
ing well-known iOS gestures like pinch-zoom, ﬂick, rotate,
and double tap. It demonstrates a good “data-ink” ratio
and oﬀers the user a way to zoom and navigate waveforms
across time scales. It is easy to make complex soundscapes,
but diﬃcult to compose speciﬁc rhythms or pitches.
4. FUTURE WORK
Because sound ﬁle management is important to Twkyr’s
workﬂow, we will give Twkyr access to the host’s iTunes li-
brary. Using Twkyr in the context of a networked ensemble
will aﬀord the opportunity to share state among instances
of Twkyr, allowing each user to see other user’s loop lengths
and time scales in realtime. We will incorporate onset de-
tection and tempo/pitch tracking to make Twkyr’s “fret”
visualizations and click-repair features more useful and al-
low “snapping” to an attack or a ﬁxed metric position.
5. ACKNOWLEDGMENTS
The authors would like to express their gratitude to the
Robert W. Deutsch Foundation for funding this work and
the players of the CREATE ensemble for workshopping this
instrument. We would also like to thank UCSB’s AlloSphere
Research Group and the Experimental Visualization Labo-
ratory for their support.
6. REFERENCES
[1] M. Alonso. Samplr. http://samplr.net.
[2] C. Carlson and G. Wang. Borderlands: An audiovisual
interface for granular synthesis. In Proc. NIME, 2012.
[3] C. Roads. Microsound. MIT press, 2004.
[4] The Strange Agency. Curtis.
http://thestrangeagency.com/curtis-on-ipad.
[5] E. R. Tufte. The visual display of quantitative
information. Graphics Press, Cheshire, CT, second
edition, 2001.
[6] D. Wessel and M. Wright. Problems and prospects for
intimate musical control of computers. Computer
Music Journal, 26(3):11–22, 2002.
Proceedings of the International Conference on New Interfaces for Musical Expression
378