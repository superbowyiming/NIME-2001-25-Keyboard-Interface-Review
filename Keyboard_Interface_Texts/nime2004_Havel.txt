Modeling an Air Percussion for Composition and
Performance
Christophe Havel

SCRIME, LaBRI, universitÂ´e Bordeaux 1
351, cours de la LibÂ´eration
33405, Talence Cedex, France
ch.havel@wanadoo.fr
Myriam Desainte-Catherine
y
SCRIME, LaBRI, universitÂ´e Bordeaux 1
351, cours de la LibÂ´eration
33405, Talence Cedex, France
myriam@labri.fr
ABSTRACT
This paper presents a project involving a percussionist play-
ing on a virtual percussion. Both artistic and technical as-
pects of the project are developed. Especially, a method for
strike recognition using the Flock of Birds is presented, as
well as its use for artistic purpose.
Keywords
Gesture analysis, virtual percussion, strike recognition.
1. INTRODUCTION
To collect, through the gesture of the musician, his musi-
cal intention and to incarnate it in a sound matter, such
is generally the role of a musical instrument, whether it is
acoustic or electronic. From this point of view the SCRIME
developed a research project for a virtual percussion instru-
ment using electromagnetic sensors that are xed at the end
of drums sticks. To our knowledge, this work is the rst
attemp to gesture modeling of percussionists playing with
drums sticks. We started from a model of the basic strikes
and measurements taken on a musician in order to obtain
a modeling of its play. A device of air percussion thus was
implemented, including a system of sensors connected to a
computer which analyzes and recognizes the gestures of the
percussionist, a system of graphic edition of the instruments
and visualization of the trajectories of the strikes, and mod-
ules of sound synthesis.
First section of this paper presents the artistic project called
Metamorphoses which motivates this work. Second sec-
tion enumerates existing similar works and actual disposals
among which we had to choose. Then, in third section, we
Music Composer.
yProfessor in computer science at ENSEIRB, Ecole Na-
tionale Superieure d'Electronique, Informatique et Radio-
communication, Bordeaux, France.
give some technical details about strike recognition, includ-
ing the limits of the actual algorithm and material. Last
section describes how the air percussion can be used for
composition and performance.
2. METAMORPHOSES ARTISTIC PROJECT
For a few years the rst author has worked out, within the
project metamorphoses, a musical writing for electronic in-
struments through a succession of works of chamber mu-
sic joining together from 2 to 4 musicians. Each one of
them plays, with its own mechanical and auditory reexes,
with sensors adapted to its instrument of origin. With the
dierence from traditional writing, the partition consists
of various environments of reactions to the instrumental
requests, environments programmed in patches using the
Max/MSP software. The work is then dened by the general
form suggested in the instrumentalists, the environments
and the associated modes of play, and the manufacturing of
it electronic sounds. Wishing to improve the original instru-
mental device (guitar midi, saxophone midi and theremin)
with a percussion instrument, the composer imagined to de-
velop a system for collecting the percussionist gestures. The
already existing solution of the MIDI drums was quickly
excluded because this system generates parasitic noises of
shock; moreover they allow only starting of sounds whereas
the percussion in general is rich in play modes according
to the sound object used, modes of play which require the
recognition of a gesture and not only of one striking - for
example the shaken maracas or a rubbed cymbal. The am-
bition of such a project would be then, starting from the
modeling of peculiar gestural of the percussionist, to be able
to collect in real time, i.e. with the constraints of a play
in concert possibly virtuoso, musical intentions of the in-
strumentalist to apply them to an electronic instrument by
the intermediary of an air instrumental device, i.e. without
presence of sounding body.
Modeling of the Strikes
In this study, we rst were interested in the recognition of
the strikes, which are probably the most frequent gestures
of the percussionist. A rst question that one can put about
such a device is the capacity of a percussionist to play with-
out the return of striking on the instrument. Actually, apart
from one type of sequence that uses the rebound on the head,
the strikes of percussion can be carried out without instru-
mental support, for what makes sound is the energy of the
gesture transmitted to the sounding body, and this trans-
mission is maximum when the impact is very short and does
not crush resonance. It was thus modeled 3 types of strikes:
 down : the stick in high position goes down then goes up
in low position
 up : the stick in low position goes down then goes up in
high position
 piston : the stick goes down then goes up with the same
position (normal-strike).
At the time of the play with two mallets, these strikes can be
sequenced in various manners to form the following gures :
 the roll : the sticks alternate the following cycle symmet-
rically: down, up
 the single stroke : the sticks alternate the following cycle
symmetrically: up-down
 the am : the sticks alternate the following cycle asym-
metrically: down, up with start on a up.
Among these three sequences, only the roll uses the rebound
on the head for the sequence of both strikes with the same
stick. This technique will thus not be usable with an air
percussion.
3. ACTUAL DISPOSALS
There are currently several artistic projects which use de-
vices of percussions, and let us present some of them below.
Most of them are interested to detect the point of striking
to carry out the play of samples, but little of them approach
the gesture in a more total way, and there even exists for
the moment very few data on dynamics of the gesture itself.
 Max Mathews radio baton1 [6] is the oldest device, to
our knowledge, which tracks the motion of the tip of 2 sticks
in a 3 dimensional space. Max Mathews had not developed
this product for the percussion, but it allowed us, before
being directed toward such or such technological choice, to
carry out a rst series of measurements with a percussionist
thanks to a pleasant collaboration with the LMA of Mar-
seille. Its rather reduced dimensions were not appropriate
however for the project. The digital baton [5] probaly
could have been used as well for that purpose, but we did
not have the chance to try it.
 Lightning2 is a MIDI controller developed by Don Buchla
that detects the position and movement of handled sticks.
Based on principles of the optical triangulation, Lightning
gathers its information by tracking tiny infrared transmit-
ters that are built into sticks and provides the horizontal
and vertical position of each hand. It can be used to detect
strikes of a percussionist or to follow the beat of a conduc-
tor, but its perception in a two-dimensional space limits its
use for a complete analysis of the gesture.
 Video camera : Another alternative for the capture of
the instrumental gesture is the use of video cameras that
allows, with an appropriate image analysis, to detect the
movement of the hand of the instrumentalist. One can
quote among other that projects of the GMEM3 of Mar-
seille, which consists in graphically dening areas around
the instrumentalist, areas in which a movement will trigger
the synthesis of an electronic sound using VNS.
1http://ccrma-www.stanford.edu/CCRMA/Courses/252/
sensors/node27.html
2http://www.buchla.com/lightning/index.html
3http://www.gmem.org/
Master Flock
Slave Flock
Cubic box
Sensors
Sticks
PC
Serial
port
Figure 1: System Architecture for recording and an-
alyze inputs coming from the FOB
 Flock of Birds4 are widely used in the context of virtual
reality. They are constituted of a cubic box emitting an elec-
tromagnetic eld and sensors, which are called Birds, receiv-
ing electromagnetic waves within a spheric area around the
cubic box. Sampling rate of this material is in theory 100
samples per second. This technical specication especially
turned us to choose this material for our percussion. Each
sample contains 3D position of a sensor and its orientation
(3 angular values) with a spatial accuracy of 1.8mm RMS
and angular accuracy of 0.5 degrees RMS.
4. STRIKES RECOGNITION
In this section, we present studies we performed for strikes
recognition. We precise peripherals characteristics and the
whole system architecture we used for recording and ana-
lyzing inputs coming from peripherals. Then, we present
results and limits of our detection, due to material draw-
backs.
4.1 System Architecture
System architecture for preliminary studies is constituted of
a PC running the libock library, and the FOB peripher-
als, whose Flock master is connected to a serial port of the
PC (see gure 1). Moreover, each sensor is placed at the
extremity of a drum stick.
The libock library aims at the management of FOB pe-
ripherals, and runs under GNU/Linux. This library is under
GNU Public License and is published on the SCRIME web
site (www.scrime.u-bordeaux.fr). It is constituted of the fol-
lowing modules :
 The "ockOutput" program outputs the bird's records as
text.
The "ockNoise" program detects the noise level in mea-
surements of the bird's positions.
 The "ockOSC" program sends ock events to a remote
host by using UDP datagrams that comply to CNMAT's
OpenSound Control protocol.
4.2 Strikes Analysis
4http://www.ascension-tech.com/
Figure 2: Trajectory of four up strikes
The aim of this work is to detect strikes and to classify them
according to one of the types: down, up and piston. In this
paper, we limit our study to the simple detection of strikes.
Of course detection of a strike could have been decided each
time the trajectory of a sensor crosses a threshold in the Z
axis. But such a detection depends only on the absolute
level of the threshold and represents a strong constraint for
the musician. We preferred to detect each strike wherever in
the space, according to any of the three dimensions. Such an
objective requires to analyze input samples to predict strikes
with a latency as low as possible. As a matter of fact, the
system is to be used in real time and played at a very high
speed. This study has been performed according to the Z
axis, to get a maximal speed from the musician, and then
the detection algorithm we obtained was generalized to the
3 dimensions.
We recorded several sequences of elementary strikes (up,
down and piston), played with several kinds of nuances and
tempo. Then, we observed with Matlab the curves of the
3D trajectories. Some trajectories are displayed respectively
on gures 2, 3 and 4, where the Z axis is oriented upward
and the time axis from left to right. Thanks to the xed
sample rate, speed and acceleration can be easily computed
and plotted with the trajectory. Those curves shown several
drawbacks that are presented in subsection 4.3. Neverthe-
less, correction was applied to the curves in order to be able
to analyze them.
Several parameters were extracted from a temporal win-
dow of 200ms preceding each impact : abscissa and am-
plitudes of strike and speed peaks, duration between two
peaks (strike or speed). Statistical analysis were performed
with those variables (mean, standard deviation, correlation).
This analysis showed that the amplitude of the speed peak
preceding a strike is highly related to the duration between
them, as well as a negative peak of the speed along the
X axis. In consequence, two thresholds were introduced in
this rst detection algorithm, for the two derivatives along
Z and X axis. Moreover, in order to avoid detection errors
due to unintentional movements, we decided to apply a de-
lay threshold between two strikes. This delay was extracted
Figure 3: Trajectory of six down strikes
Figure 4: Trajectory of six piston strikes
from the recorded data.
4.3 Material Limits
Several drawbacks were shown by the curves of the trajec-
tories of the sticks. First of all, the material has to be used
far from metallic objects, to get aware of electromagnetic
interferences. But other problems were observed, probably
related to a too high speed:
 Several successive points were sometimes superimposed,
especially when the speed was very high during the down-
ward phase.
 Some points were sometimes completely out of the trajec-
tory. They were especially situated during the rising phase.
Such errors of the material generates several kinds of de-
tection errors. Nevertheless, within the whole percussion
simulation, as it is described in section 5, most of those er-
rors disappear, because only the strikes hitting a part of the
virtual percussion are ltered.
5. USING THE AIR PERCUSSION
We developed a 3D editor for the composer to dene an
air percussion within the sphere around the emitting cubic
box. The objective is to split the space into several areas
which have dierent properties for sound synthesis. Shapes
of those areas are elementary so that the area corresponding
to the position of the strike can be detected easily and fast.
An area is dened by the following parameters.
 A shape : sphere, box or cylinder;
 Geometrical parameters (center position, size);
 Percussive sound synthesis : six binary values indicating
whether or not the area detects each of the six kinds of
strikes and strikes sequences (up, down, piston, roll, single-
stroke and am);
 Continuous sound synthesis : raw coordinates of the po-
sition of the sensors can be used for sound synthesis in this
area.
We designed an architecture for the disposal in order to be
able to use it during performance. In particular, the com-
poser uses its own compositional environment on the MAX
platform. So the architecture which is presented on gure
1 is augmented with a MacIntosh running MAX and con-
nected to the PC using UDP datagrams. Moreover, the PC
runs a program implementing strike detection, augmented
with a spatial analysis of the position of the sensors. It
sends an event to the MacIntosh which is constituted of
several elds (type of event, number of the stick, number of
the current area, coordinates, speeds according to the three
dimensions). Simultaneously, the PC displays a representa-
tion of the air percussion including the real time position of
the sensors.
The current device was used in concert by the composer,
within his cycle of metamorphoses, in duet with a midi sax-
ophone. Two types of percussion instruments were dened,
using the graphical interface, each one corresponding to a
dierent type of synthesis. One consists of a keyboard of 20
keys, horizontally laid out on 2 lines of 10, each key trig-
gering the play of a sample of sound. The strike speed in-
formation makes it possible to control the sound volume,
and the information of angular position according to the y-
axis is used to modify the timbre by means of a lter. The
other instrument consists of a parallelepiped inside which
the displacement of the stick controls a module of granu-
lar synthesis. Again, information of angles and position is
used to control the various parameters of the synthesis (po-
sition and loop size, volume, pitch), but moreover detection
of strikes according to any axis allows to produce accentu-
ations of the sound. If the denition of the instrumental
areas is common to both mallets, on the other hand the
sound result obtained may be dierentiated by the use of
various samples and synthesis modules.
6. CONCLUSION
The results currently obtained are suciently satisfactory
to allow its use in concert. Except certain errors of detec-
tion probably related to the defects observed on the sensors,
the device answers the requests of the instrumentalist well,
thus allowing him certain virtuosity. The reduction of the
delay between visual and auditory perception by the use of
methods of prediction should make it possible to improve
comfort of playing of the instrumentalist and the spectacu-
lar eect of the instrument. Then, when strike detection will
be completely accurate, we shall perform strikes classica-
tion (up, down, piston), and strikes sequences classication
(roll, single-stroke and am) leading to a model of the per-
cussive gestures thus providing a wider musical control to
the instrumentalist.
7. ACKNOWLEDGMENTS
This research was carried out in the context of the SCRIME
project5 which is funded by the DMDTS of the French Cul-
ture Ministry, the Aquitaine Regional Council, the Gen-
eral Council of the Gironde Department and IDDAC of the
Gironde Department.
Specials thanks to Anthony Beurive for the development
of the Flock library, and to all ENSEIRB and University
students who worked on this project : Marie-Claire Gaudin,
Eric Menu, Bertrand Bocande, Nicolas Sceaux, Johan Sebenne,
Karim El Sawah, Christelle Pernon [3] and Sebastien Lebre-
ton [4].
8. REFERENCES
[1] C. Cadoz. Instrumental gesture and musical
composition. In Proceedings of the International
Computer Music Conference, 1988.
[2] C. Cadoz and M. Wanderley. Gesture - music. In
Trends in Gestural Control of Music, pages 71{94. M.
Wanderley and M.Battier, Editors. 2000, Ircam -
Centre Pompidou: Paris, France, 2000.
[3] K. E Sawah and C. Pernon. Modelisation d'une
percussion virtuelle. ENSEIRB, Master thesis,
supervised by M.Desainte-Catherine and C.Havel, 2002.
[4] S. Lebreton. Percussioniste virtuel. DESSIMM, Master
thesis, University Bordeaux 1, supervised by
M.Desainte-Catherine and C.Havel, 2003.
[5] T. Marrin. Possibilities for the digital baton as a
general-purpose gestural interface. In CHI97, pages
311{312, 22-27 march 1997.
[6] M. Mathews. Current Directions in Computer Music
Research. MIT Press Cambridge, 1991.
[7] C. Traube, P. Depalle, and M. Wanderley. Indirect
acquisition of instrumental gesture based on signal,
physical and perceptual information. In Proceedings of
the 2003 Conference on New Interfaces for Musical
Expression (NIME-03), Montreal, Canada, 2003.
[8] M. Wanderley. Gestural control of music. In
Proceedings of the International Workshop on Human
Supervision and Control in Engineering and Music.
Kassel, Germany, pages 101{130.
[9] M. Wanderley and P. Depalle. Contr^ole gestuel de la
synthese sonore. In Interfaces Homme-Machine et
Creation Musicale, pages 145{163. Hermes Science
Publications, 1999.
5cooperation convention between the Conservatoire Na-
tional de Region of Bordeaux, ENSEIRB (school of elec-
tronic and computer scientist engineers) and the University
of Sciences of Bordeaux.