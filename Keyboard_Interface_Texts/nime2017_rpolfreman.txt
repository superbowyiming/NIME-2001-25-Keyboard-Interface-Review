Rubik’s Cube, Music’s Cube    Richard Polfreman Music, University of Southampton Southampton, SO17 1BJ, UK r.polfreman@soton.ac.uk Benjamin Oliver  Music, University of Southampton Southampton, SO17 1BJ, UK b.oliver@soton.ac.uk    ABSTRACT 2017 marks the 40th anniversary of the Rubik’s Cube (under its original name the Magic Cube). This paper-demonstration describes explorations of the cube as a performance controller for music. The pattern of colors on a face of the cube is detected via USB video camera and supplemented by EMG data from the performer to model the performer’s interaction with the cube. This system was trialed in a variety of audio scenarios and deployed in the composition “Rubik’s Study No. 1”, a work based on solving the cube with audible connections to 1980’s pop culture. The cube was found to be an engaging musical controller, with further potential to be explored.    Author Keywords Tangible User Interfaces, Rubik’s Cube, Myo Armband  ACM Classification H.5.2 [Information Interfaces and Presentation] User Interfaces– Input devices and strategies, H.5.5 [Information Interfaces and Presentation] Sound and Music Computing, I.4.8 [Scene Analysis] Object recognition. 1. INTRODUCTION The Rubik’s Cube (Figure 1) is a popular 3D puzzle invented in the 1970s by Erno Rubik [9].  The standard cube has a 3 x 3 grid of squares on each face, while all faces can rotate freely. When solved, each face displays a single color, usually white/yellow, blue/green and red/orange on opposite faces. Despite ~43 x 1018 permutations, any state can be solved in <21 moves [9]. Typically solving uses more moves, but “speed cubers” can still do so in a few seconds [12].  Our enquiry into cube-as-controller derived from the fact that the cube is a highly tactile object inviting user interaction, it has a large number of states, it can embody user skill in its manipulation, while basic moves are simple to learn, and, not least, it is fun to play with.  
 Figure 1. The Rubik's Cube puzzle  2. RELATED WORK 2.1 Tangible User Interfaces The manipulation of physical objects to control digital information is described as a tangible user interface, a well-known music example being the Reactable [3], where the manipulation of fiducial marker cubes and discs (and finger touch) on a circular back-projected surface allows the user(s) to assemble, configure and control a real-time software modular 
synthesizer. Its open source tracking, reacTIVision, has been used by others in music [11] and non-music [2] examples, while related Rotor software allows an iPad to be used with tangible “rotor controllers”. Similarly, but in general computing, Microsoft’s PixelSense tables supported object recognition and tracking on the screen, ideas at least partly carried forward to their Surface Studio’s interactive “dial”.   2.2 Computer Vision and Rubik’s Cube A number of published student projects can capture the current state of a cube to use with solving algorithms, e.g. [1, 5, 7].   Robot solvers can achieve sub-second results [4], but fix the cube’s position relative to the camera(s), so their reading code is likely not ideal for human performers.   2.3 Rubik’s Cube and Music Hakan Libdo [6] used up to 16 pre-prepared 4 x 4 cubes as a sequencer grid (time, pitch axes), colors indicating instrument parts. It is similar to Candy Synth by the same artist, and other tangible sequencers. Whilst a fun application, it is not altogether clear how using the cube is advantageous. We were keen to explore the cube more as an instrumental controller, although this is clearly just one musical possibility.  3. CUBE EXPLORATION 3.1 System Karpathy’s tracking code [5] was modified to transmit face colors via OSC to Max/MSP and then mapped to the six cube colors using Euclidean distance (in HSL color space) relative to the calibrated mean for each face. This is then mapped to audio parameters.   We determined that tracking performer-cube interaction would be important. We decided upon performer sensing, since we wished to use an unmodified cube and didn’t want to limit cube movement to within camera shot. A Leap Motion optical hand-tracker was confused by the cube and so a Myo Armband [8] was tried, collecting motion and EMG (electromyograph) data from the forearm. The Myo moved little when “cubing”, but EMG data was a good predictor for cube activity, as values varied with finger pressure. A Max external was developed to access EMG data.  
 Figure 2. Cube Instrument 
493
3.2 Practical set-up The most reliable cube detection was achieved by mounting a USB camera above a table and placing the cube on the table surface to be read (figure 2 above) This also allowed the performer to easily rotate the cube or change to different faces while preserving tracking, and also decide when the cube is to be read. The cube can be read from below a transparent surface (Reactable-style) to minimize hand occlusion, but we wanted the performer and computer to see the same cube face. Prior to performance, the system is calibrated by showing completed faces and indicating the corresponding colors. 3.3 Audio Parameters The Rubik’s cube has many permutations and it is not simple to put the cube in a specific arbitrary state. Hence the mapping of cube to musical parameters is less clear than where the user can easily reach any of the possible states of the device, such as a joystick or rotary encoder. We tested various ideas (included in the demonstration).  The cube in its unsolved state presents six possible semi-random patterns for use, and while solving, order is gradually built up, typically layer-by-layer. In addition, most solutions have moments of disrupting the order temporarily before returning to a more ordered state again. This flow between order and chaos suggested that the cube could useful for gradual evolutionary control over processes, e.g. parameters of granular synthesis, where the balance of order and randomness are associated with the synthesis method itself.   The discrete nature of the patterns, together with difficulty of direct construction of a specific complex pattern, suggested that the cube could be used for choosing elements from sets, where the potential combinations provide interesting musical results, but the precise combination itself is not so compositionally important, allowing for discovery/variation during performance, not directly under the performer’s control – e.g. selection of notes from chords, interpolation of presets, or choice of loops or rhythmic combinations.  A further standard use of the cube is for the creation of specific ordered patterns such as spots (face centers a different color), chess board, vertical stripes, diagonal stripe, etc. These are easily repeatable and can be taken to another pattern in a few moves. These can be used to select particular sounds, presets, phrases, or effects, and the cube considered as a set of reconfigurable fiducial markers. 4. Rubik’s Study No. 1 The principal compositional preoccupation in devising Rubik’s Cube Study No. 1 was to find strategies to clearly connect the music to processes involved in solving the puzzle. Following a text-based score, the performer is asked to try to solve the cube but at certain points place the cube on a table and experiment with the sounds produced. The piece explores three sonic areas:  a) Casio VL-1 percussion loop, played when the performer is neither rotating the cube faces nor displaying a face to the camera. This might be considered kitsch ‘thinking’ music.  b) Granular synthesis of cube sounds, played when the performer is trying to solve the cube. Grain parameters are modified by EMG data to create a clear synergy between the performer’s actions and resulting granulated sonority.   c) FM synth chords, played when the cube is on the table. Each color is assigned a nine-note extended chord with clear tonal center (C, Gb, D, G#, E, Bb), which combine to form a whole-tone scale. A scrambled cube will likely create dissonant and unstable sonorities, the pitches changing with rotation, while a solved face a rotation-invariant stable tonal chord.   Both (a) and (b) outlined above capture normal elements associated with solving a Rubik’s cube but (c) requires the performer to pause in their pursuit of completing the cube. There is an element of artifice required, but the reward for the performer (and listener) is to ‘hear’ the faces of the cube.  As the cube is solved the original dissonant musical sonorities move towards a sense of resolution, with the 
successful completion of the puzzle leading to a clear sense of tonal arrival and, therefore, closure for both the performer and audience1. A clear sense of trajectory is created through the transformation of the materials.  The overall duration and changes in musical material (e.g. pitch, granulation, sonority) are connected closely to how the performer solves the cube and their particular ‘cubing’ abilities. For example, the duration of a Rubik’s cube champion would be rather short but would create some exciting granulation textures in the process. Similarly, a more measured or hesitant approach would result in the exploration of a wider range of different pitch sonorities. Both are equally valid performances.  Another important issue in developing the work was to playfully but purposefully rejoice in nostalgia for the 1980s. The Rubik’s cube is a treasure passed down from the 80s as are the FM synthesiser and Casio VL-Tone drums used. 5. CONCLUSIONS The Rubik’s cube is an interesting object to explore as a music controller. While naturally lending itself to ideas of order and randomness, the seemingly endless reconfigurations in a small, easily manipulated cube offer both stochastic and predefined control options while providing interesting gestural elements for performer and audience. In further work we plan to develop additional audio control mappings, less invasive activity capture and to explore temporal synchronization between cube and system response. 6. REFERENCES [1] C. Barker, Rubik's Cube Solver: 15-112 Term Project, https://youtu.be/QrLaajSDnTw, 2013. <accessed 18/01/2017> [2] S. Elsholz, M. Schissler and T. Dierichs, Infractor, http://www.infractor.org, 2009. [3] S. Jordà, et.al. The reacTable: exploring the synergy between live music performance and tabletop tangible interfaces. In Proceedings of the 1st international conference on Tangible and embedded interaction, pp.139-146. (February 2007). ACM. [4] L. Kelion, Robot 'sets new Rubik's Cube record', BBC News, http://www.bbc.co.uk/news/technology-37925028, 2016. <accessed 18/01/2017>  [5] A. Karpathy. Extracting colors from Rubik's Cube,  https://youtu.be/VaW1dmqRE0o, 2010. <accessed18/01/2017>  [6] H. Libdo, The Cube Sequencer, http://hakanlidbo.com/archives/3892, <accessed 18.01.2017> [7] J. Ng. Automated Rubik’s Cube Recognition. Digital Image Processing Project, Stanford University, Stanford, CA, 2012. [8] K. Nymoen, M.R. Haugen and A.R. Jensenius, MuMYO - Evaluating and Exploring the MYO Armband for Musical Interaction, In Proceedings of the International Conference on NIME pp. 215-218, (June 2015). NIME. [9] T. Rokicki, H. Kociemba, M. Davidson, and J. Dethridge, The Diameter of the Rubik's Cube Group Is Twenty. SIAM J. Discrete Math. 27-2 (2013), pp. 1082-1105 [10] Rubik’s Brand Limited, The History of the Rubik’s Cube, https://uk.rubiks.com/about/the-history-of-the-rubiks-cube/  <accessed 18/01/2017> [11] R. Polfreman, Multi-modal instrument: towards a platform for comparative controller evaluation. In Proceedings of the ICMC 2011, University of Huddersfield, UK, August 2011. ICMA. [12] World Cube Association, https://www.worldcubeassociation.org/results/regions.php <accessed 18/01/2017>                                                                    1 Interestingly a tutorial by Michael Staff on Group Theory independently suggested this music-cube connection: http://ed.ted.com/lessons/group-theory-101-how-to-play-a-rubik-s-cube-like-a-piano-michael-staff. 
494