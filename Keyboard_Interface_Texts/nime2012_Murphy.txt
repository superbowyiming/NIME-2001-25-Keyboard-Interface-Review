Better Drumming Through Calibration: Techniques for
Pre-Performance Robotic Percussion Optimization
Jim Murphy2
[2] Victoria University of
Wellington
New Zealand School of Music
Wellington, New Zealand
jim.w.murphy@gmail.com
Ajay Kapur1,2
[1] California Institute of the
Arts
24700 McBean Parkway
Valencia, California
ajay@karmetik.com
Dale Carnegie2
[2] Victoria University of
Wellington
School of ECS
Wellington, New Zealand
dale.carnegie@ecs.vuw.ac.nz
ABSTRACT
A problem with many contemporary musical robotic percus-
sion systems lies in the fact that solenoids fail to respond lin-
early to linear increases in input velocity. This nonlinearity
forces performers to individually tailor their compositions
to speciﬁc robotic drummers. To address this problem, we
introduce a method of pre-performance calibration using
metaheuristic search techniques. A variety of such tech-
niques are introduced and evaluated and the results of the
optimized solenoid-based percussion systems are presented
and compared with output from non-calibrated systems.
Keywords
musical robotics, human-robot interaction
1. INTRODUCTION
Robotic percussion systems typically use solenoids as actu-
ators to strike drums. While such solenoid-based systems
are usually inexpensive, electronically simple, and reliable,
they lack performance characteristics that musicians used
to working with electronic instruments have come to ex-
pect. This paper focuses on our eﬀorts to overcome one such
major shortcoming of solenoid-based robotic drumming sys-
tems: that of a lack of linearity in the solenoid actuators’
dynamic response. Digital protocols such as MIDI and OSC
aﬀord musicians the ability to specify volume (also called
velocity) of musical events. While the expected behavior
of systems utilizing such velocity control schemes would be
a linear response of output velocity in accordance to input
velocity, due to their mechanical construction and the non-
linear response of electromagnetic solenoids, solenoid-based
percussion systems typically do not follow the expected lin-
ear velocity curve.
To address the problem of nonlinear velocity output in
response to a linearly increasing series of velocity input sig-
nals, we chose to implement pre-performance calibration
routings: an approach that can be readily applied to our ex-
isting musical percussion systems. While other techniques
warrant much investigation (see section 5), the use of cali-
bration systems allows us to augment our existing robotic
drummers without the need to greatly rework their mecha-
tronic systems. The authors have a large number of existing
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
NIME’12,May 21 – 23, 2012, University of Michigan, Ann Arbor.
Copyright remains with the author(s).
robotic percussion systems utilizing single solenoid striker
assemblies; the ability to retroactively implement velocity
response linearization through the use of minimally-invasive
techniques is thus highly attractive.
The procedures undertaken to calibrate the robotic drums
fall into the ﬁeld of search techniques. Such techniques allow
for the optimization of systems without a great degree ofa
priori knowledge. We explored a variety of metaheuristic
optimization procedures and evaluated each in regards to
their respective average speeds.
Before examining the approaches that we took to opti-
mize and calibrate out robotic systems, we present a short
background of related work in robotic percussion in sec-
tion 2.1. Additionally, we discuss our existing musical robot
systems in section 2.2. Section 3 provides an overview of
our experimental optimization setup, preparing readers for
a discussion of the search techniques and results, which are
discussed in section 4. Finally, section 5 concludes the pa-
per with an evaluation of the suitability of such techniques
in a performance context as well as an example of real-world
use of such techniques.
2. PRIOR WORK
2.1 Robotic Music
Contemporary musical robotics began in the 1970’s with
the work of Trimpin [13] and Godfriend-Willem Raes [14].
Trimpin’s work is highly diverse in nature, ranging from
kinetic sculpture to new musical interfaces and utilizing a
wide range of materials [6]. Highlights of his work include
“IPP 71512” (1992), an automated prepared piano, “If VI
Was IX: Roots and Branches”(2000), an array of self playing
and automatically tuning guitars, and“Gurs Zyclus”(2011),
an operatic work highlighting many of his technological in-
novations over the last two decades. Godfriend-Willem Raes
is another early pioneer in the ﬁeld of performance oriented
musical robotics [18]. His works, often focusing on inter-
actions between the human body and mechanical systems,
typically consist of mechatronic extensions of existing in-
struments.
Much recent work has focused on human interactions with
musical robotics. Ajay Kapur, with his MahaDeviBot and
other robots in his Machine Orchestra [10], improvises with
North Indian classical instruments: his robots respond to
his musical decisions in real time. Others are exploring this
new paradigm of live interaction and improvisation: Gil
Weinberg is a leader in this ﬁeld, producing works such as
Haile, a robotic drummer. “Haile has listening skills and can
join and improvise with live players” [17]. More recently,
Weinberg has created Shimon, a robotic marimba capable
of improvisatory performance [7]. Weinberg uses many of
these complex musical robots in interactive improvisations
[16].
Another worker contributing much to the ﬁeld of per-
formance oriented musical robotics is Roger Dannenberg,
through works such as “McBlare” [3] and Carnegie Mellon’s
RobOrchestra. The works of Weinberg, Kapur, and artist
Eric Singer [5], along with the innovative robotic systems
from Koji Shibuya and colleagues from Waseda University
(exempliﬁed in [15]), point to a next generation of musical
robotics: that of closed-loop systems capable of automatic
calibration and feedback-based error correction.
Figure 1: TrimpTrons and KalTrons on NotomotoN
[8] and [2]. Additionally, Nick Collins provides an intro-
duction to autonomous mechatronic music systems in [2].
2.2 Robots in the Machine Orchestra
Figure 2: The two tested beaters: Linear-style
Kaltron (left) and rotary-style TrimpTron (right).
Robotic percussion instruments have been a major part
of our recent artistic output and research: through the
Machine Orchestra [10], the authors regularly work with
more than forty solenoid-driven robotic percussion instru-
ments. The Machine Orchestra and related projects focus
on human/robot interaction through musical performance
and improvisation. Such interaction has been hindered by
the solenoid-based drum strikers on the drums: the lack of
predictable and consistent velocity response requires per-
formers to be familiar with each individual variety of robotic
drum beater and the beater’s speciﬁc dynamic response. To
address this problem, we have decided to create calibration,
optimization, and closed-loop feedback systems to improve
the dynamic responses of the drum strikers. To optimize
the many existing drumming systems in the Machine Or-
chestra with a minimum of mechatronic augmentation, we
chose to use the system described below in section 3.
3. EXPERIMENTAL SETUP
Figure 3 illustrates the signal ﬂow in the solenoid optimiza-
tion experimental setup. At the core of the test setup is a
drum to which a piezo vibration sensor is attached. The
sensor’s signals are converted to MIDI information on an
Alesis D4 drum module; the MIDI is then received on a PC
via a Firewire audio interface. On the PC, signal processing
Figure 3: Optimization signal ﬂow
software both conducts optimization routines and outputs
MIDI events to a microcontroller which in turn controls a
solenoid conﬁgured to strike the drum. The following sub-
sections will examine the experimental substages in greater
detail.
3.1 Input section
In order to receive input data from the drum, a piezo pickup
system was chosen. A piezo pickup was attached to each
drum head. The pickup’s analog signal was converted to
MIDI information in an Alesis D4 16 bit drum module and
transmitted to a computer through a MIDI-enabled ﬁrewire
audio interface. Early tests showed that diﬀering place-
ments of the piezo pickup could result in greatly varying
dynamic ranges. Further, diﬀerent drum heads could re-
sult in considerable variations in dynamic ranges. To com-
pensate for this, signal processing software was written to
automatically map the pickup’s dynamic response regard-
less of piezo positioning or drum head type. This signal
processing software, discussed more in section 3.2, greatly
simpliﬁes the signal input section, removing the need for
highly precise piezo pickup positioning.
3.2 Signal processing section
The signal processing section of the calibration setup can be
divided into three subsections: the scaling subsection, the
calibration loop, and the MIDI transform routine. The scal-
ing subsection determines the dynamic range of the input
section and piezo attached to the drumhead by outputting a
range of 128 MIDI values and reading in the corresponding
values. Since the ultimate goal of the calibration procedure
is to achieve linear parity between the input and output val-
ues, the output values must be scaled such that the maxi-
mum output value does not exceed the maximum attainable
input value (an important consideration due to the fact that
an output value of less than 127 often results in the great-
est corresponding input value). Outgoing 7-bit MIDI values
are therefore scaled between zero and the maximum input
value received.
After the correct scaling factor is applied to the outgoing
values, the program enters the main calibration loop. A
variety of search techniques were evaluated, each of which
resulted in an optimized array wherein the output values
are scaled to become linearly equivalent to the actual values
produced by the solenoid drum beater.
The program enters the ﬁnal stage of the signal processing
section upon creation of a transform array: incoming MIDI
values sent by performers are scaled such that the dynamic
response of the solenoid drum beater matches more closely
the desired linear output velocity speciﬁed by the performer.
Figure 4: MIDI calibration signal ﬂow
3.3 Output section
The output stage is the ﬁnal stage in the calibration sig-
nal ﬂow. In the output stage, transformed MIDI values are
sent to a microcontroller-based solenoid driver. The micro-
controller is an AVR microcontroller using the HIDUINO
library [4] which allows for driverless USB connectivity. The
solenoid drum beater’s velocity is controlled via an interrupt-
driven chopper drive output to a power MOSFET. The
MOSFET switches a drum beater equipped with a 24V
solenoid. The tested solenoids are shown in ﬁgure 2. More
information about the solenoids can be found in [9] and
[11]. The output section is identical to that currently used
in the KarmetiK Machine Orchestra: in order to imple-
ment the new calibration software discussed in this paper,
no ﬁrmware or hardware changes are needed.
Figure 5: The experimental test setup, shown with
a Trimpin Striker drum beater
4. EXPERIMENTS
To determine whether the lack of linearity in the dynamic
response of solenoid-based percussion systems could be im-
proved, experiments using diﬀerent search techniques were
conducted and their outputs analyzed. In the calibration
software, a tolerance parameter was employed: notes within
ﬁve velocity steps of the desired value (out of MIDI’s 128
possible steps) were deemed acceptable in the below ex-
periments. The ﬁtness of a calibration method was based
upon two criteria: whether an acceptable degree of linear-
ity was obtained from the search technique and the amount
of time required to optimize a system. The time required
to optimize, shown in ﬁgure 8, is the average time of ﬁve
separate calibration attempts. To allow the system to settle
between output events, strikes were timed to repeat only ev-
ery 1000 milliseconds. Tests were conducted with two types
of beaters: one rotary-style beater (the TrimpTron) and one
linear-pull beater (the KalTron, designed by Michael Dar-
ling). These two beater styles exemplify the majority of the
drum beater varieties utilized in the Machine Orchestra.
4.1 Search routines
Figure 6: Uncalibrated MIDI input versus output
velocity, illustrating the data’s nonlinearity.
Prior to running any calibration routines, the system’s
open-loop response was recorded and in shown in Figure 6.
The extreme nonlinearity of the response is visible, with the
majority of the dynamic range present in the ﬁrst ten out-
put values. While Figure 6 (tested with a KalTron beater)
shows the system’s abrupt rise to a maximum value and
subsequent stasis about the maximum, the system’s desired
response is a linear relationship between the input and out-
put values.
To correct the system’s nonlinearity through the use of
calibration, the following techniques were implemented in
the MIDI calibration signal ﬂow. These techniques were
chosen for their simplicity and ease of application. Future
work will consist of further exploration of alternate search
techniques.
4.1.1 Random Search
Random search routines, discussed in detail in [1], use num-
bers chosen at random to optimize a system. In this appli-
cation of a random search routine a 7-bit MIDI output value
is randomly chosen such that the sampling range does not
change over time. The resulting value is sent to the mecha-
tronic drum beater. Figure 8 shows the average time re-
quired to create an optimized solution to the system through
the use of random search techniques.
4.1.2 Linear Search
With linear search, a 7-bit value was iteratively increased
from zero until the output value most closely matched the
value received by the MIDI input device. Values are in-
creased in a linear manner as illustrated in Figure 7. This
technique is described in more detail in [12]. The average
time required to optimize the system through the use of
linear search is shown in ﬁgure 8.
4.1.3 Pattern Search
The pattern search technique iteratively increased values
from zero. As the output values approached the desired
value, the step size was exponentially decreased. This tech-
nique is of limited application with low-resolution MIDI
Figure 7: Output of a the system shown in Figure 6,
this time calibrated with linear search
messages. Such an approach will likely return signiﬁcantly
improved results in future versions wherein a higher resolu-
tion communication protocol is employed (see section 5).
Figure 8: Test Type and Average Time to Optimize
4.2 Experimental Results
The results of the tests are shown in ﬁgure 8. Random
search techniques were quite ineﬃcient, requiring long times
to optimize. Pattern-based searches were found to be the
most eﬃcient at rapid optimization, followed by linear search
techniques. The TrimpTron rotary-style solenoid beaters
optimized faster than the KalTron linear-to-rotary solenoid
beaters, possible beacause of the TrimpTron’s simpler de-
sign. As discussed in section 5, the relatively long times
required to optimize the drum beater system should not
be taken as an indication of inherent ﬂaws in the concept
of optimization of solenoid drum beaters: with improved
search algorithms, the authors believe that faster optimiza-
tion times are possible.
5. CONCLUSIONS AND FUTURE WORK
The work discussed in this paper represents the ﬁrst stage
in a series of projects intended to create more predictable
robotic instruments through the use of closed loop systems.
While the results presented in this paper display improve-
ments over unaugmented systems, there are two primary
avenues for improvement: a higher-resolution protocol than
MIDI and real-time calibration techniques.
Additionally, a higher degree of optimization can likely
be attained through the use of measurement techniques not
based upon piezo pickups. Current work focuses on alter-
nate methods of measurements through the use of encoders
and potentiometers to provide real-time beater arm posi-
tion.
Future work will explore the use of predictive techniques
to analyze the system’s current state if not at rest and send
correspondingly correct values.
6. REFERENCES
[1] D. C. and Karnopp. Random search techniques for
optimization problems. Automatica, 1(2-3):111 – 121,
1963.
[2] N. Collins. Introduction to Computer Music. John
Wiley & Sons, 2010.
[3] R. Dannenberg, H. Brown, and R. Lupish. Mcblare: A
robotic bagpipe player. In J. Solis and K. Ng, editors,
Musical Robots and Interactive Multimodal Systems,
volume 74 of Springer Tracts in Advanced Robotics,
pages 165–178. Springer Berlin / Heidelberg, 2011.
[4] D. Diakopoulos and A. Kapur. Hiduino: A ﬁrmware
for building driverless usb-midi devices using the
arduino microcontroller. InProceedings of the
International Conference on New Interfaces for
Musical Expression, Oslo, Norway, 2011.
[5] D. B. Eric Singer, Kevin Larke. Lemur guitarbot:
Midi robotic string instrument. In Proceedings of the
International Conference on New Interfaces for
Musical Expression, Montreal, Canada, 2003.
[6] A. Focke. Trimpin: Contraptions for Art and Sound.
Marquand Books, 2011.
[7] G. Hoﬀman and G. Weinberg. Shimon: an interactive
improvisational robotic marimba player. In
Proceedings of the 28th of the international conference
extended abstracts on Human factors in computing
systems, CHI EA ’10, pages 3097–3102, 2010.
[8] A. Kapur. A history of robotic musical instruments.
In Proceedings of the International Computer Music
Conference (ICMC) , Barcelona, Spain, 2005.
[9] A. Kapur. Digitizing North Indian Music:
Preservation and Extension using Multimodal Sensor
Systems, Machine Learning and Robotics. VDM
Verlag, 2008.
[10] A. Kapur, M. Darling, D. Diakopoulos, J. Murphy,
J. Hochenbaum, O. Vallis, and C. Bahn. The machine
orchestra: An ensemble of human laptop performers
and robotic musical instruments.Computer Music
Journal, 25(4):49.
[11] A. Kapur, M. Darling, J. Murphy, J. Hochenbaum,
D. Diakopoulos, and Trimpin. The karmetik
notomoton: A new breed of musical robot for teaching
and performance. Proceedings of the Conference on
New Interfaces for Musical Expression, 2011.
[12] D. E. Knuth. The art of computer programming,
volume 3: (2nd ed.) sorting and searching. Addison
Wesley Longman Publishing Co., Inc., Redwood City,
CA, USA, 1998.
[13] S. Leitman. Trimpin: An interview. Computer Music
Journal, 35(4):12–27, 2012/01/08 2011.
[14] L. Maes, G. Raes, and T. Rogers. The man and
machine robot orchestra at logos. Computer Music
Journal, 35(4):28–48, 2012/01/08 2011.
[15] K. Shibuya, S. Matsuda, and A. Takahara. Toward
developing a violin playing robot - bowing by
anthropomorphic robot arm and sound analysis. In
Proceedings of RO-MAN 2007, Jeju Island, Korea,
2007.
[16] G. Weinberg, B. Blosser, and T. Mallikarjuna. The
creation of a multi-human, multi-robot interactive
jam session. In Proceedings of International
Conference on New Instruments for Music
Expression, Pittsburgh, PA, 2009.
[17] G. Weinberg and S. Driscoll. Toward robotic
musicianship. Computer Music Journal, 30(4):28.
[18] G. Willem-Raes. A personal story of music and
technologies. Leonardo Music Journal, 2(1):29, 1992.