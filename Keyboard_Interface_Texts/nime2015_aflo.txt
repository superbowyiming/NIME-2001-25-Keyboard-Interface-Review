Doppelgänger: A solenoid-based large-scale sound installation  Asbjørn Blokkum Flø  Norwegian center for technology  in music and the arts (NOTAM)  Sandakerveien 24D, Bygg F3  0473 Oslo, Norway  asbjorn@asbjornflo.net 
Hans Wilmers  Norwegian center for technology  in music and the arts (NOTAM)  Sandakerveien 24D, Bygg F3  0473 Oslo, Norway  hanswil@notam02.no     ABSTRACT This paper presents the sound art installation Doppelgänger. In Doppelgänger, we combine an artistic concept on a large scale with a high degree of control over timbre and dynamics. This puts great demands on the technical aspects of the work. The installation consists of seven 3.5 meters-tall objects weighing a total of 1500 kilos. Doppelgänger transfers one soundscape into another using audio analysis, mapping, and computer-controlled acoustic sound objects.  The technical realization is based on hammer mechanisms actuated by powerful solenoids, driven by a network of Arduino boards with high power PWM outputs, and a Max-patch running audio analysis and mapping. We also look into the special requirements in mechanics for large-scale projects.   Great care has been taken in the technical design to ensure that the resulting work is scalable both in numbers of elements and in physical dimensions. This makes our findings easily applicable to other projects of a similar nature.  Author Keywords Interactive sound art and installations, Musical mapping strategies, Robotic music, Sensor and actuator technologies, Mechanics  ACM Classification H.5.5 [Information Interfaces and Presentation] Sound and Music Computing J.5 [Computer Applications] ARTS AND HUMANITIES --- F i n e  a r t s  H . 5 . 1  [ I n f o r m a t i o n  I n t e r f a c e s  a n d  Presentation] Multimedia Information Systems  1. INTRODUCTION This text provides a description of the historical context of the installation Doppelgänger a s  w e l l  a s  t h e  e l e c t r o n i c s  a n d  mechanics developed for this work. Less emphasis will be placed on software development and artistic concepts. Doppelgänger is a large-scale sound installation that relocates one soundscape into another using audio analysis, mapping, and computer-controlled acoustic sound objects.   Microphones are placed in the cafe next to the exhibition space. The sounds from the cafe are analyzed and then mapped to the computer-controlled acoustic sound objects. In this way the audience will experience the installation as an acoustic mirror of the social space that constitutes the café.  Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. To copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee. NIME’15, May 31-June 3, 2015, Louisiana State University, Baton Rouge, LA. Copyright remains with the author(s). 
Doppelgänger builds on the history of mechanical instruments, as well as computer-controlled acoustic musical instruments and sound objects.  2. BACKGROUND 2.1 Computer-controlled instruments The earliest known design of a programmable machine is an automatic flute player that was described in the 9th century by the brothers Musa in Baghdad. Developments in Europe gained momentum during the early renaissance, and we find an early description of a programmable music machine in a manuscript from Catalonia from about the year 1300 [3]. Player pianos emerged and gained popularity during the last half of the 1800s. These instruments reached a new level of precision a hundred years later with the introduction of computer-controlled electromechanical pianos s u c h  a s  t h e  Wayne Stahnke custom-built SE instrument (1978), Yamaha Player Piano (1982), Bösendorfer SE (1986) [6], and QRS Pianomation (1989).  Groups s u c h  a s  t h e  Logos Foundation (1990-) [4] and LEMUR (2000-) [8] have built large ensembles o f  computer-controlled acoustic musical instruments. Large ensembles h a s  been created within t h e  university communities as well, including Expressive Machines Musical Instruments (2007-), KarmetiK (2007-) and Ensemble robot (2010-). Pat Metheny, Björk, Aphex Twin a n d  Squarepusher are examples of a r t i s t s  working with this type of instruments outside of academia and the experimental music circles.  2.2 Computer-controlled sound objects Composers such as CPE Bach, Haydn, Mozart and Beethoven all wrote f o r  mechanical instruments, and George Antheil included the use of sixteen player pianos in the original version of Ballet Mécanique (1923-1924). The composer Conlon Nancarrow (1912-1997) holds a special position, with over 50 works written almost exclusively for t h e  player piano during 1948-1993.  Beyond music written for computer-controlled acoustic musical instruments, there exists a tradition of using computer-controlled acoustic sound objects in an art context. By sound objects we mean sound generating objects that unlike musical instruments are not designed for performing music in the traditional sense. Here, concepts such as the use of space, architectural interventions and the ontological properties of sound are often more important than traditional musical ideas.  Alvin Lucier’s work Music for Solo Performer (1965), is an early example of sound art with electronically c o n t r o l l e d acoustic sound objects. In this piece, electrodes that detect alpha brain waves a r e  attached to the performer. Several loudspeaker elements a r e  a c t i v a t e d  by the alpha waves. The loudspeaker elements trigger a group of percussion instruments. This is done by playing the instruments directly with objects 
61
Proceedings of the International Conference on New Interfaces for Musical Expression, Baton Rouge, LA, USA, May 31-June 3, 2015 
attached to the loudspeakers, or by activating t h e  percussion instruments with sound. The practice of examining a data set by mapping it to computer-controlled acoustic sound objects can be found in several works. In Peter Ablinger’s work Deus Cantando (God, Singing) (2009), a computer-controlled player piano is used to resynthesize speech. The piano reads aloud from The Declaration Of The International Environmental Criminal Court, co-written by Adolfo Pérez Esquivel and the 14th Dalai Lama. Here, a message of protecting the ecosystems is set in contrast to the mechanical character of the resynthesized speech coming from the player piano.   The Mexican artist Pedro Reyes examines the political potential of objects in the work Disarm (2013). Remains of weapons collected and destroyed by the Mexican army a r e  made into computer-controlled acoustic sound objects. The various parts of these objects are recognizable as shotguns, pistols and rifles, a n d  t his work can be interpreted as a pacifistic statement.  The investigation of space itself recurs in several works with computer-controlled acoustic sound objects. In the works by the artist Trimpin, great ingenuity i s  c o m b i n e d  with spatial placement to create immersive sound works. In installations such as Conloninpurple (1997), If VI Was IX (1999), and Sheng High (2004), the space is filled with a large number of sound objects that together form a nuanced spatial sound experience. Since 2006, the artist Zimoun h a s  b e e n  m a k i n g  numerous sound installations in the form of architectural interventions and sound sculptures, often produced with DC-motors and cardboard boxes. Because Zimoun’s works usually consist of large arrays of similar objects d i s t r i b u t e d  i n  space, the spatial experience attracts special attention from the listener.  2.3 Relocation of space The transfer of material from one field to another, the examination of the ontological properties of sound, and the use of space, are also important elements to the installation Doppelgänger (2014). In this site-specific sound installation the sound of the art museums café i s  r e l o c a t e d  into the more contemplative exhibition space. Here the sound from the cafe is presented in processed, analyzed form - as an abstract, timbral shadow-version of the real world.  Doppelgänger is the latest in a series of works where timbral and phenomenological topics a r e  examined in parallel. These works treat sound as both communication and abstract material at the same time, and in previous works both specific locations as well as objects from music history have been examined. In Norway Remixed (2002) audio streams from all over Norway were recontextualized through a sound installation at the Oslo Central Station [7]. In the installation Ragnarok (2011), Wagner's 15-hour opera Der Ring des Nibelungen was compressed into a one second long particle of music history.  Through Doppelgängers relocation of space, the auditory focus is shifted, and the hidden aspects of the social space appear. Doppelgänger becomes a shadow version of the real world, a place where unconscious structures may emerge. The installation is also an examination of the acoustic character of the space. The sound experience of the social space h a s  a  unique quality in its own, beyond language and meaning. This timbral dimension i s  examined in the installation through several computer-controlled acoustic sound objects with a wide range of timbres that surround the listener. It is through these timbres t h a t  t h e  installation investigates the structures of the social space. 2.4 Mapping The relocation of sound, use of space, and emphasis on b o t h  timbral a n d  o n t o l o g i c a l  p r o p e r t i e s  o f  s o u n d s e t s  t h e  t e r m s for 
the practical work with this installation. In Doppelgänger the change that happens when one type of material is filtered through another is examined. In this case, the sound of a cafe is resynthesized using hammers that beat on l a r g e  metal plates. The timbre of these plates were central to the artistic concept. A method for simulating the timbre of the sound objects using models of plates and mallets were created (See Flø and Wilmers forthcoming for discussion [1]).  The work flow begins with sound analysis using a Max patch running in OS X. Microphones pick up sound from the cafe. This sound is divided into two ranges, one from 0 to 80 Hz, and one of 80 Hz and above. Amplitude followers measure the loudness of the two frequency ranges. In addition, FFT-based perceptual analysis detects transients.  This audio analysis is resynthesized with hammers beating on steel plates. The installation has three t y p e s  o f  h a m m e r s .  Soft hammers create deep frequencies, medium hard h a m m e r s  create a wide frequency range, and hard hammers create high frequency sounds. The soft and medium hard hammers are mapped to the amplitude variations from t h e  analysis data of the two frequency ranges below and above 80 Hz, while the hard hammers are mapped to the transients.  The amplitudes of the two frequency bands controls stochastically distributed durations and timbres. The amplitudes are mapped to a table, and depending on where it points in the table, the table will have different probability distributions. In this way one can predict whether events occur with a certain estimated probability, but without being able to predict exactly when or where in the sounding space it occurs. The design of the tables makes it possible to shape the sounding space in a way that is interesting enough to the listener while still being sufficiently varied over time. T h e  t r a nsients from the FFT-based perceptual analysis are also mapped to stochastic distributions, so they can be rendered with recognizable but not repetitive patterns. The three different layers operate with different stochastic distributions. It is the superposition of these distributions, as well as the limits for the different distributions that gives the installation its character and complexity.   3. ELECTRONICS 3.1 The Concept The technical concept of Doppelgänger shows a great degree of symmetry: Sound is generated using an assembly of objects that differ in physical properties, but not in construction. Thus, at some place in the signal flow between the single input (the microphone) and the multitude of outputs (the plates), the processing can be split up into parallel streams, or even independent hardware objects.   The latest possible split would be right before the solenoid actuators. In this case, all signal processing and the switching of the solenoid currents would be implemented in one centralized unit, and wires could be used to connect the solenoids to the switches. 
 Figure 1: Doppelgänger as Centralized Concept 
62
Proceedings of the International Conference on New Interfaces for Musical Expression, Baton Rouge, LA, USA, May 31-June 3, 2015 
However, this solution would be rather complex, with few possibilities to extend the maximum number of solenoids. Also, it would result in long cable runs carrying pulse width modulated currents in the magnitude of several amperes, which can cause considerable electromagnetic emissions. Therefore, it was chosen to split the processing up into one central unit doing all audio processing and real time mappi ng,  and a net work of smaller nodes, one for each metal plate, to drive up to 6 solenoids each. Standard cabling is used between the nodes: 220V cabling for power supply, and Ethernet for communication. Thus, to each metal plate only 2 cables need to be routed. 
 Figure 2: A Network of Distributed Solenoid Nodes 3.2 Networked Nodes The central unit consists of an OS X PC running Max/MSP with a patch dedicated to audio analysis and real time mapping. The solenoid nodes are realised using Arduino. An Arduino Ethernet is combined with an Arduino Power Driver Shield that was modified for 24V usage on all outputs. In addition, diodes were added to short circuit negative voltage spikes, and two I/O ports were remapped to avoid concurrent usage with the built-in Ethernet module. Commutating diodes to short circuit positive voltage spikes were not added, as this would have had resulted in an increased switch-off delay of the solenoid. 
 Figure 3: A Doppelgänger Solenoid Node. Photo: Magnus Bugge Each of the solenoid nodes contains its own power supply, as well as the logic to drive the outputs with variable PWM (Pulse-width modulation) ratio and pulse lengths. PWM is realized in software. This allows us to use all power outputs with a frequency of 25 kHz. This frequency is well above the frequency range humans can hear, but there was a jitter in the PWM signal that generated faint (but acceptable) audible artifacts from the solenoids. A low-noise fan is used to cool the power supply and electronics.   
Table 1. Main Components Microcontroller Board Arduino Ethernet High Current Outputs Arduino Power Driver Shield Power Supply TDK Lambda 24V/150W Cabinet Custom Aluminium Enclosure  3.3 Communication Protocol Communication between the central unit and the solenoid nodes is implemented using OSC over Ethernet. OSC messages for solenoid activation consist of all the information necessary to define one sound event: The chosen solenoid, the PWM ratio, and the length of the pulse to be applied. Also implemented are a simple discovery protocol, and readout of an optional PIR sensor (passive infrared sensor). The status of the PIR sensor is used to activate sound generation depending on the presence of people in the room, if that is needed for practical reasons. Table 2. OSC Messages /coil/[1..6]/<pulsetime><PWM> play a PWM pulse /discover return IP address /poll/ir return PIR sensor status  In addition, a simple ASCII protocol is accessible via RS232 and TCP/UDP. This protocol implements all of the commands above, and commands for debugging and setup of the nodes.  3.4 Performance Following these design concepts, the electronics are easily scaled to bigger or smaller projects by adjusting the number of nodes. Also, the simplicity of the nodes compared to a centralized solution results in increased reliability, and in reduced effort during construction, manufacturing and testing. The network roundtrip latency for the discovery protocol was measured using Wireshark, and found to be 1.7/1.8/1.5 ms as mean/max/min values over 2200 consecutive runs. However, activation of the solenoids is done immediately after receiving the OSC message, resulting in an even lower latency. The overall latency of the system is therefore mainly determined by the properties of the mechanics and the solenoids.  3.5 Dynamics using PWM and pulse length Dynamics were achieved activating the solenoids with different PWM values and pulse lengths. The repeatability of sound generation was tested with a wooden mallet directly mounted to a solenoid armature, hitting an aluminium plate. Pulses of fixed length (25ms) were applied with varying PWM ratios. In this particular setup, it was found that PWM ratios from 60 to ca. 150 gave usable results, and that the sound level in this region is a logarithmic function of PWM ratio, as expected (See Figure 4). 
 
  Figure 4: SPL at fixed Pulse time: 25ms 
63
Proceedings of the International Conference on New Interfaces for Musical Expression, Baton Rouge, LA, USA, May 31-June 3, 2015 
4. MECHANICS There has been developed a variety of mechanical solutions for computer-controlled solenoid based acoustic sound objects by people such as Trimpin, Godfried-Willem Raes, Eric S i n g e r and Ajay Kapur among others. In its simplest form the object that hits the sound object i s  attached directly to t h e  solenoid armature, avoiding the mechanics all together. Examples of this are solutions developed for Trimpin’s works Ringo (1986) [5] and Conloninpurple (1997) [2], as well as the instrument Vibia (2001-2010) [4] by Godfried-Willem Raes and Kapur Fingers (2007) by Ajay Kapur [2].  The stroke l e n g t h  o f  t h e  solenoid is limited, and c o m b i n e d  with other practical and timbral reasons, it may be desirable to use other mechanical solutions. A simple and effective solution is to allow a linear or rotary solenoid pull, push, or rotate a rod directly. This is the most widely used mechanism and is used for example by Singer, Trimpin, and Raes, in devices such as Singer Hammer, Trimpin Hammer, and HAT  [2] [4].   4.1 Decoupling the armature from the rod  When a solenoid pulls, pushes or rotates a rod directly, t h e  rod b o u n c e s  back to its original position b y  t h e  i m p a c t  of hitting the sound object. Solenoids with a high force can have significant amounts o f  r e s i d u a l  m a g n e t i c  f o r c e .  After the armature of a high power solenoid is pulled back, i t  i s  t h e n  typically held t h e r e  f o r  u p  t o  s e v e r a l  h u n d r e d milliseconds before it is released.   A direct connection between rod and armature results in an undesired dampening of the sound object by the hammer. This problem is solved by decoupling the armature from the rod.   4.2 Our design  In our design, a high force solenoid is m o u n t e d  o n  a n  aluminium plate. An armature gliding through the internal plain bearings of the solenoid is attached to a nylon part. This nylon part pulls a steel rod attached to a plain bearing made of steel and nylon. The steel rod rests on an aluminium sheet covered with felt, and a mallet made of e i t h e r steel, wood, or wood covered with wool is mounted at the end of the steel rod.  Just as a traditional piano hammer action decouples the hammer from the key, we must now decouple t h e  steel rod from the solenoid if damping of the sound object caused by residual magnetic force is to be avoided.    The piece of nylon attached to the armature has a milled slot. The rod is inserted through the slot, and when the solenoid pulls the armature and the piece of nylon, it also pulls the rod. When the armature is approaching the bottom of solenoid core, the movement of the armature is stopped by a piece of felt placed between t h e  solenoid housing and the piece of nylon. The rod continues i t s  movement through the slot until the hammer at t ached t o t he rod hits the sound object. The impact makes the rod bounce back, and when the solenoid is drained of the residual magnetic force i t  releases t h e  armature returning the rod to its original position.  5. CONCLUSION In the sound art project Doppelgänger, we combine an artistic concept on a large scale with a high degree of control over timbre and dynamics. We choose to split up the processing into one central unit doing audio processing and mapping, and a network of smaller nodes to drive the solenoids. This leads to a practical and easily expandable system. Using Arduino as a 
platform results in a system that is stable and with low latency. A large dynamic range is achieved using PWM and choosing pulse lengths.  Furthermore we have taken the residual magnetic force of high power solenoids into account when constructing the mechanics.  
!
 !Figure 5: Mechanism with steel rod, nylon piece and a high power solenoid.  6. ACKNOWLEDGMENTS The authors would like to thank Jøran Rudi for helpful comments on this paper, Thom Johansen and Henrik Sundt for assistance in the electronics manufacturing, Kjeller Modellverksted for computer-aided design and precision mechanics, and Castor mekaniske verksted for sheet metal work and welding. The installation Doppelgänger w a s  produced by Bergen Kunsthall and Lydgalleriet in collaboration with Borealis, and supported by Arts Council Norway, Norsk musikkfond, NOTAM, and The City of Oslo.  7. REFERENCES [1] A. B. Flø, H. Wilmers. The Intrinsic Value of Timbre in Doppelgänger. In Proceedings of the International Computer Music Conference (ICMC), Denton, USA, 2015.  [2] A. Kapur, Trimpin, E. Singer, A. Suleman, and G. Tzanetakis. A Comparison Of Solenoid-Based Strategies For Robotic Drumming. In Proceedings of the International Computer Music Conference (ICMC), Copenhagen, Denmark, 2007 [3] T. Koetsier. On the prehistory of programmable machines: musical automata, looms, calculators. Mechanism and Machine Theory, 36: 589-603, Elsevier, Oxford, 2001 [4] L. Maes, G.-W. Raes, and T. Rogers. The Man and Machine Robot Orchestra at Logos. Computer Music Journal 35: 4: 28-48, MIT Press, Cambridge, Massachusetts, 2011 [5] F. van Manen, and Trimpin. Ringo, a percussive installation. In Proceedings of the International Computer Music Conference (ICMC), Den Haag, Netherlands, 1986 [6] R. A. Moog, and T. L. Rhea. Evolution of the Keyboard Interface: The Bösendorfer 290 SE Recording Piano and the Moog Multiply-Touch-Sensitive Keyboards. Computer Music Journal 14: 52-60, MIT Press, Cambridge, Massachusetts, 1990 [7] J. Rudi. Norge – et lydrike, Norway remixed: a sound installation. Organised Sound, 8: 151-155, Cambridge University Press, Cambridge, 2003 [8] E. Singer, J. Feddersen, C. Redmon, B. Bowen. LEMUR’s Musical Robots. In Proceedings of The International Conference on New Interfaces for Musical Expression (NIME), Hamamatsu, Japan, 2004 
64
Proceedings of the International Conference on New Interfaces for Musical Expression, Baton Rouge, LA, USA, May 31-June 3, 2015 