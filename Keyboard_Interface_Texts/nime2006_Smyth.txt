Handheld Acoustic Filter Bank for Musical Control
Tamara Smyth
School of Computing Science
Simon Fraser University
British Columbia, Canada
tamaras@cs.sfu.ca
ABSTRACT
This paper introduces the design of a handheld musical input
device that produces control data by measuring, and ana-
lyzing, the resonances of carefully tuned pipes. The device
provides input control information to several virtual reed
instruments running in parallel, responsible for producing
the sound. Inspired by the khaen, a musical instrument
from Northeast Thailand and Laos, the controller consists
of a row of acoustic tubes, with ﬁnger holes that change the
tube’s resonance when covered. Each tube is equipped with
both a microphone recording the change in pressure varia-
tions at a set location along the tube. The mic outputs are
mixed, and input to the computer via the mic level audio
ports, allowing the controller to interface very reliably (and
conveniently) to most laptop computers.
Keywords
khaen, sound synthesis control, mapping, musical acoustics
1. INTRODUCTION
Western “breath-driven” musical instruments 1 typically
make use of a mouthpiece and a single bore that can take on
a variety of shapes from cylindrical tubes to conical or ﬂared
horns, or some piecewise combination thereof. If a player is
to change the pitch on such an instrument, some mechanism,
such as toneholes or nested sliding tubes, must be in place
for changing the bore’s eﬀective acoustic length2.T h e s e
mechanisms have served musicians well over the course of
western music history, so well in fact, that their ubiquitous-
ness continues to pervade our paradigms for new musical
1The term “breath-driven” is used to distinguish fromwind
or wind-driven instruments, which would include organs and
accordions, among others.
2Some reed driven instruments, such as the digiridoo, rely
exclusively on the mechanical resonance of the reed to alter
the sounding pitch, though their pitch range is rather limited
as a result.
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on theﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
NIME06, June 4-8, IRCAM, Paris, France
Copyright 2006 Copyright remains with the author(s).
input devices. Though these devices have oﬀered substan-
tial possibilities for controlling tone [4, 10, 11, 3, 6], because
they are monophonic they are far less suitable as controllers
for more general musical needs.
Following research on the generalized virtual reed model
[12], there existed a need for an input device that would al-
low for the control of an arrangement, in series or parallel, of
multiple pressure-controlled valves. As is the tradition in the
development of new music controllers, the author began by
looking at existing tried and true control mechanisms that
would meet the requirements. Thekhaen, a breath-driven
instrument from Northeast Thailand and Laos, consisting
of two rows tuned acoustic pipes which may be played inde-
pendently or simultaneously, served as the model.
Many new musical controllers are developed independently
from the computer sound synthesis algorithms they control.
This disconnect has made it increasingly diﬃcult to develop
mapping strategies for parameter laden physical modelling
synthesis algorithms, for which the input control parameters
and the synthesis parameters are very strongly linked. This
research therefore also attempts to address the notion ofre-
linking acoustics to controller by measuring and analyzing
the resonances of carefully tuned pipes. That is, rather than
using sensors to measure the user’s input directly, a micro-
phone measures the state of the pipe as it is altered by the
user.
The beneﬁts of this approach are twofold: 1) the user isn’t
forced to interact directly with bulky, often overly wired and
ﬂaky electronics that tend to break, and frequently need
replacing from over-use and 2) the controller can directly
interface with the audio ports on a laptop computer, with-
out requiring a micro-controller and a lot of extra circuitry
for data acquisition—returning the concept of portability to
musicians who use laptop computers during performance.
The idea for this controller was inspired both by ongo-
ing research on the Khaen, as well as Bernard Chouet’s ap-
proach of detecting “long period events” for predicting im-
minent volcano eruptions [8]. Both make use of resonance
phenomena.
2. KHAEN ACOUSTIC DESIGN
The khaen is a free reed, mouth-organ style instrument
found in the Northeast region of Thailand (Issan) and Laos.
Very similar to the Japanesesho,o rt h eC h i n e s esheng,i t
consists of two rows of bamboo tubes decreasing in length,
each tube having its own reed, and being responsible for a
single pitch lying within a diatonic scale [7]. The player sup-
ports the instrument upright in front of the mouth, with the
Proceedings of the 2006 International Conference on New Interfaces for Musical Expression (NIME06), Paris, France
314
Figure 1: Mr. Khene, a khaen maker from Roi Et,
Northeast Thailand, displays the tuning vents in the
pipes.
windchest resting comfortably between the palms of prayer
positioned hands, with holes within the ﬁngers reach. No
sound is produced from a particular pipe unless its ﬁnger
hole is covered. Blowing, or inhaling, through a mouth hole
provides a pressure or vacuum inside the air chamber sur-
rounding the reeds [2], creating a diﬀerential pressure across
the reed that forces it into oscillation.
Pipes are inserted into a windchest, called thetao,s ot h e y
form two rows of anywhere from 6-10—but usually 8—pipes
(see Figure 1). The perfect skyline arrangement of the pipes
is purely aesthetic as the actual pipe lengths are determined
using vent holes placed a distance L apart, approximately
3/4 L above and approximately 1/4 L below the position
of the reed (see Figure 1). The distanceL is therefore, the
eﬀective acoustic length of the pipe when the ﬁnger hole is
covered. An open ﬁnger hole, melted into the bamboo using
a heated iron awl, drastically reduces the acoustic length of
the pipe, altering its resonance so that it no longer couples
strongly with the reed.
Finger holes in the khaen do not function as toneholes
in single bore instruments. Though the small hole alters
the eﬀective acoustic length of the pipe if left uncovered,
it also destroys the pipe resonance and prevents the reed
from vibrating. Therefore it is possible to blow into the
instrument and not produce any sound. The player covers
only the holes for the pipe(s) that should sound, and may
play several notes simultaneously. The rubbery material,
called kisoot, that seals the pipes and the tao, may also be
used to close ﬁnger holes, creating a fuller sound with drones
or pedal notes.
The arrangement of the pipes and the proximity of their
ﬁnger holes make it relatively easy to play notes in rapid
succession (with a little practice). Since very little ﬁnger
pressure is needed to play a pipe, it is fairly easy to ﬂutter
the ﬁngers over the holes and, again with practice, to play
with speed and virtuosity. This is an aspect of the khaen
that would be very diﬃcult to capture using force sensing
resistors but that has been retained in this design. Khaen
players will also say that the texture of the hole outline
beneath the ﬁnger provides an important cue for locating its
position (which, is important given the holes are not visible
during performance) [1]. This feature is also retained in this
design. An extension of the Khaen within the capability of
the controller, is the implementation of partial hole coverage,
rather than the binary choice of open or closed. This may be
less helpful to traditional players, but certainly oﬀers more
ﬂexibility to those who wish to extend the instrument [9].
3. ACOUSTIC FILTER BANK FOR INPUT
PARAMETERS
The controller is designed to serve as an input device for
playing a parallel arrangement of generalized reed synthesis
models [12]. Clearly the arrangement of pipes, one for each
sounding pitch, is a particularly useful paradigm for con-
trolling several virtual reeds. The controller however, also
incorporates the Khaen’s use of resonance as a mechanism
for control.
Like the khaen, the controller consists of a bank of care-
fully tuned pipes with ﬁnger holes placed within the reach
of the player’s hands, and a mouthpiece supplying pressure
variations—though this research focuses on capturing the
ﬁngering of the player rather than his/her blowing tech-
nique (which in reality has very little variation since the
player must blow rather hard to produce sound).
Each tube n is cut to a length Ln, and closed at either
end to ensure a “perfect” reﬂection—a speaker seals one
end while a piece of acrylic seals the other. A small ﬁnger
hole is placed in the wall of the tube at the end opposite the
speaker, eﬀectively opening that end (see Figure 2). Closing
the ﬁnger hole changes the conﬁguration of the pipe from one
that is closed-open to one that is closed-closed.
Notice from Figure 2 that though displacement of air is
greatest at an open end, the pressure variation is maximum
at a closed end. For the ﬁrst harmonic of a closed-closed
tube, there is maximum pressure variation at both ends,
with a pressure null at the center. For the second harmonic
of the same conﬁguration, adding a node and antinode pro-
duces a standing wave pattern with a pressure maximum in
the center of the tube. Driving the tube at a frequency equal
to this second harmonic, and placing a microphone at the
center of the tube, will measure maximum pressure variation
when the hole is covered. Uncovering the hole reverts the
conﬁguration back to a closed-open tube with an altogether
diﬀerent (lower) resonance, with the second harmonic (and
every even harmonic) missing (see Table 1, [5] or any acous-
tics text for calculating tube resonant frequencies). As a
result, there is a considerable increase in the sound pressure
level recorded by the microphone if the hole is covered.
A signal is generated from the computer that combines the
appropriate driving frequencies (see frequencies from Table
2). This signal is output via the speakers at the end of each
tube, and is eﬀectively ﬁltered by a bank of acoustic ﬁlters,
that is, each pipe acts as a ﬁlter, boosting or attenuating
only those frequencies corresponding to one of its resonant
modes. The output from each of the microphones is added
together using a very simple mixing circuit (see Appendix),
and the sum is input back into the computer’s mic level au-
dio inputs, scanned and analyzed to determine which pipes
have been selected for sound production.
The sound produced by the tubes must be within the au-
dio range (not exceeding the Nyquist limit) so that the in-
put and output can be handled using the computer’s audio
Proceedings of the 2006 International Conference on New Interfaces for Musical Expression (NIME06), Paris, France
315
mic
CLOSED−OPEN
CLOSED−CLOSED
1st harmonic
2nd harmonic
1st harmonic
mic
pressure variation pressure variation
(finger covers hole)
3rd harmonic
Figure 2: The ﬁrst two modes of vibration, showing
pressure variation maxima and minima, and stand-
ing wave patterns, for closed-closed acoustic tubes
(resulting from the the ﬁnger covering the hole), and
closed-open tubes (where the ﬁnger hole is open).
Boundary
 Harmonic
 Wavelength
 Frequency
k
 λ
 fk = c/λ
Closed-
 1
 2L
 f1 = 425 Hz
Closed
2
 L
 f2 = 850 Hz
=2 f1
Closed-
 1
 4(L +0 .61a)
 f1 ≈ 206 Hz
Open
3
 4
3(L +0 .61a)
 f3 ≈ 618 Hz
=3 f1
Table 1: Modes of vibration for a closed-closed and
closed-open pipe of length L =4 0 cm and radius
a =2 cm, computed using speed of sound, c = 340.
In an actual pipe, pressure variations drop to zero
slightly beyond an open end, eﬀectively increasing
the acoustic length for this condition by approxi-
mately0.61a,w h e r ea is the radius of the pipe.
Closed-Closed
 Closed-Open
pipe
 L (cm)
 f1 (Hz)
 f2 (Hz)
 f1 (Hz)
 f3 (Hz)
1
 20
 1700.0
 3400.0
 0757.6
 2272.7
2
 12
 1416.7
 2833.3
 0643.0
 1928.9
3
 14
 1214.3
 2428.6
 0558.5
 1675.4
4
 18
 0944.4
 1888.9
 0442.2
 1326.7
5
 20
 0850.0
 1700.0
 0400.6
 1201.7
6
 22
 0772.7
 1545.5
 0366.1
 1098.2
7
 30
 0566.7
 1133.3
 0272.3
 0816.8
8
 35
 0485.7
 0971.4
 0234.7
 0704.0
Table 2: Tube lengths L (in centimeters), closed-
closed (Cl) or closed-open (Op) and frequencies f0
and f1 (in Hz) for 8 pipes.
ports. The closed-closed tube conﬁguration was chosen to
limit sound radiation to the player’s ear when a tube res-
onates, as the user holds the instrument (at the mouth) in
fairly close proximity to the ears. Since all the tubes receiv-
ing the same excitation signal, the tubes had to be given a
variety of lengths, shown in Table 2, to ensure that the 2nd
harmonic of one closed-closed tube doesn’t excite a harmonic
of another closed-open tube.
Selecting a tube on the controller activates a synthesis
model of a generalized reed, fully detailed in [12], produc-
ing the instrument sound. Though the controller currently
doesn’t allow the user to modify many of the model’s con-
tinuously variable input parameters, it solves the problem of
playing several reeds simultaneously. For some reed types,
particularly free reeds, where only a limited number of com-
binations of input parameters produced satisfying sound
quality, the ability to control several models was all that
was required.
4. CONCLUSIONS
With the surfacing of new controllers and computer sound
synthesis algorithms, there has been a clear disconnect be-
tween the device that produces the sound and the device
with which the player/musician interacts. Various sensors
may be used to capture human input that has very little, if
anything, to do with the mechanism or acoustics of the pro-
duced sound. Though this would seemingly increase the pos-
sibilities for the design and development of new controllers
unfettered by the demands of the acoustic systems they con-
trol, in actual practice it seems to have been more of a hin-
drance in the development of quality musical instruments
with intuitive mapping.
This work presents the design of an instrument that uses
the acoustic information of the controller, and remaps it for
parameter control of a computer synthesis model—eﬀectively
preserving, but without being limited or constrained by, the
acoustics on which it is based.
5. ACKNOWLEDGMENTS
The author is indebted to Dr. Chris Adler from San Diego
University for his ongoing help on khaen instrument re-
search. Many sincere thanks are also extended to Agnieszka
Roginska, who spent three weeks with the author on a ﬁeld
recording trip in Thailand, to AuSIM Inc., and in partic-
ular William L. Chapin, for donating employee time, and
to Kritsana Naklang, Jarernchai Chonpairot, and the late
Proceedings of the 2006 International Conference on New Interfaces for Musical Expression (NIME06), Paris, France
316
Figure 3: Mr. Samong plays a Khaen using “ex-
tended” techniques.
Mr. Utit, who were all indispensable in guiding us through
villages in Northern Thailand, and serving as translators.
6. REFERENCES
[1] C. Adler. Private correspondence.
[2] J. P. Cottingham and C. A. Fetzer. The acoustics of
the khaen. In Proceedings of ISMA, pages 261–266,
Leavenworth, Washington USA, 1998.
[3] A. da Silva, M. M. Wanderley, and G. Scavone. On
the use of ﬂute air jet as a musical control variable. In
Proceedings of NIME, pages 105–108, Vancouver,
Canada, May 2005.
[ 4 ]S .F e l sa n dF .V o g t .T o o k a :E x p l o r a t i o n so ft w o
person instruments. In Proceedings of NIME2002,
Dublin, Ireland, May 2002. Conference on New
Instruments for Musical Expression.
[5] N. H. Fletcher and T. D. Rossing. The Physics of
Musical Instruments. Springer-Verlag, 1995.
[6] S. Hughes, C. Cannon, and S. O’Modhrain. Epipe: A
novel electronic wind controller. In Proceedings of
NIME 2004, Hamamatsu, Japan, June 2004.
Conference on New Instruments for Musical
Expression.
[7] T. E. Miller. Traditional Music of the Lao: Khaen
Playing and Mawlum Singing in Northeast Thailand.
Greenwood Press, Westport, Connecticut USA, 1985.
[8] NOVA and B. Chouet. Volcanoe’s deadly warning.
http://www.pbs.org/wgbh/nova/volcano/chouet.html.
[9] R. Raine-Reusch. http://www.asza.com/r3hm.shtml.
[10] G. Scavone. The pipe: Explorations with breath
control. In Proceedings of NIME2003, Montreal,
Canada, May 2003. Conference on New Instruments
for Musical Expression.
[11] G. Scavone and A. da Silva. Frequency content of
breath pressure and implications for use in control. In
Proceedings of NIME, pages 93–96, Vanccouver,
Canada, May 2005. International Conference on New
Interfaces for Musical Expression.
[12] T. Smyth, J. Abel, and J. O. Smith. A generalized
parametric reed model for virtual musical instruments.
In Proceedings of ICMC2005, Barcelona, Spain,
September 2005.
APPENDIX
A. MIXER DESIGN
The microphone signals must be added together before
connecting them to the mic level input of the laptop. Sim-
pling placing the speaker outputs in parallel will overload
the outputs and likely increase the distortion in the sound.
A better approach is to create a very simple mixer circuit,
which simply involves inserting the appropriate resistor (see
Figure 4) at the output before summing them together.
Since the computer’s mic level audio input is stereo, two
mixers can be used to sum the microphone signals from each
row, and then input into the computer via the left and right
channel.
mic 8
mic 2
mic 3
mic 1



10k
10k
10k 
10k
Figure 4: A simple mixing circuit for up to 8 input
channels.
Proceedings of the 2006 International Conference on New Interfaces for Musical Expression (NIME06), Paris, France
317